<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>My Blog</title>
</head>
<body style="font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; padding: 0;">

  <!-- Header -->
  <header style="background: #333; color: #fff; padding: 10px; text-align: center;">
    <h1 style="margin: 0; font-size: 2em;">My Blog</h1>
    <nav>
      <a href="/posts/new" style="color: #fff; margin: 0 15px; text-decoration: none; font-weight: bold; background: #007BFF; padding: 10px 20px; border-radius: 5px; display: inline-block; transition: background 0.3s;">Create New Post</a>
    </nav>
  </header>

  <!-- Main Content -->
  <main style="max-width: 800px; margin: 20px auto; padding: 0 10px;">

    <!-- No Posts Message -->
    <% if (posts.length === 0) { %>
      <p style="text-align: center; color: #333; font-size: 1.2em;">No posts available. Create one!</p>
    <% } else { %>

      <!-- Posts List -->
<% posts.forEach(function(post) { %>
  <div style="background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 5px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
    <h2 style="margin-top: 0; color: #333;"><%= post.title %></h2>
    <p style="color: #555;"><%= post.content %></p>

    <!-- Post Date -->
    <% if (post.createdAt) { %>
      <p class="date" style="font-size: 0.9em; color: #777; margin-top: 10px;">
        Posted on: <%= post.createdAt %>
      </p>
    <% } else { %>
      <p class="date" style="font-size: 0.9em; color: #777; margin-top: 10px;">
        Posted on: Unknown Date
      </p>
    <% } %>

    <!-- Post Actions -->
    <div style="display: flex; gap: 10px; margin-top: 10px;">
      <a href="/posts/edit/<%= post.id %>" style="color: #007BFF; text-decoration: none; font-weight: bold;">Edit</a>
      <form action="/posts/delete/<%= post.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?');" style="display: inline;">
        <button type="submit" style="padding: 5px 10px; background: #FF4C4C; color: white; border: none; border-radius: 3px; cursor: pointer;">Delete</button>
      </form>
    </div>
  </div>
<% }) %>



    <% } %>

  </main>

</body>
</html>
